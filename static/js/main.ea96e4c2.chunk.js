(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){},32:function(e,t,a){e.exports=a(54)},54:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(28),i=a.n(r),c=a(29),s=a(14),l=a(15),p=a(18),u=a(16),m=a(19),d=(a(25),"UQ75LhFcnAv0DtOUwBEA"),h="f5nyezNmYF4wvuJqQgNSkg",f=function(e){return"https://isoline.route.api.here.com/routing/7.2/calculateisoline.json?app_id=".concat(d,"&app_code=").concat(h,"&mode=shortest;").concat(e.mode,";traffic:").concat(e.traffic?"enabled":"disabled","&start=geo!").concat(e.center[0],",").concat(e.center[1],"&range=").concat(e.range,"&rangetype=").concat(e.type)},E={time:5e3,distance:8e4},g=(a(26),a(27),a(43),a(50),a(51),function(e){return o.a.createElement("div",{className:"sidebar"},o.a.createElement("div",{className:"header"},o.a.createElement("h1",null,"HERE Isoline Explorer"),o.a.createElement("div",{className:"subtitle"},"HERE Routing Isolines in action.")),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"section"},o.a.createElement("div",{className:"section-title"},"Transporation mode"),o.a.createElement("lui-radiobutton-group",null,o.a.createElement("lui-radiobutton",{onClick:function(){return e.updateOptions("pedestrian","mode")},class:"lui-small"},o.a.createElement("input",{type:"radio",name:"mode",value:"pedestrian",checked:"pedestrian"===e.options.mode}),"Pedestrian"),o.a.createElement("lui-radiobutton",{onClick:function(){return e.updateOptions("car","mode")},class:"lui-small"},o.a.createElement("input",{type:"radio",checked:"car"===e.options.mode}),"Car"))),o.a.createElement("div",{className:"section"},o.a.createElement("div",{className:"section-title"},"Traffic enabled"),o.a.createElement("lui-checkbox",{class:"lui-small",onClick:function(){return e.updateOptions(!e.options.traffic,"traffic")}},o.a.createElement("input",{type:"checkbox",checked:e.options.traffic}),"Traffic")),o.a.createElement("div",{className:"section"},o.a.createElement("div",{className:"section-title"},"Time or distance"),o.a.createElement("lui-radiobutton-group",null,o.a.createElement("lui-radiobutton",{onClick:function(){return e.updateOptions("distance","type")},class:"lui-small"},o.a.createElement("input",{type:"radio",checked:"distance"===e.options.type}),"Distance"),o.a.createElement("lui-radiobutton",{onClick:function(){return e.updateOptions("time","type")},class:"lui-small"},o.a.createElement("input",{type:"radio",checked:"time"===e.options.type}),"Time"))),o.a.createElement("div",{className:"section"},o.a.createElement("div",{className:"section-title"},"Range"),o.a.createElement("p",null,"distance"===e.options.type?Math.round(621371e-9*e.options.range)+" miles":Math.round(e.options.range/60)+" minutes"),o.a.createElement("input",{onChange:e.updateRange,type:"range",min:1,max:e.max,value:e.sliderVal,className:"slider"})),o.a.createElement("div",{className:"section subtitle"},o.a.createElement("div",null,"HERE Routing Isoline "," ",o.a.createElement("a",{href:"https://developer.here.com/documentation/routing/topics/request-isoline.html"},"documentation")),o.a.createElement("br",null),o.a.createElement("div",null,"Made by ",o.a.createElement("a",{href:"https://twitter.com/dbabbs"},"@dbabbs")))))}),v=a(57),b=a(59),k=a(56),y=a(58),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).handleMapMove=function(){var e=a.map.current.viewport.zoom;a.props.handleMapMove(e)},a.handleMarkerDrag=function(){var e=a.marker.current.leafletElement.getLatLng(),t=[e.lat,e.lng];a.props.handleMarkerDrag(t)},a.marker=o.a.createRef(),a.map=o.a.createRef(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"map"},o.a.createElement(v.a,{center:this.props.center,zoom:this.props.zoom,zoomControl:!1,attributionControl:!1,onMoveend:this.handleMapMove,ref:this.map},o.a.createElement(b.a,{url:(e="reduced.night","https://2.base.maps.api.here.com/maptile/2.1/maptile/newest/".concat(e,"/{z}/{x}/{y}/512/png8?app_id=").concat(d,"&app_code=").concat(h,"&ppi=320"))}),o.a.createElement(k.a,{position:this.props.center,draggable:!0,onDragEnd:this.handleMarkerDrag,ref:this.marker}),o.a.createElement(y.a,{fillOpacity:.05,weight:2,positions:this.props.isoline,color:this.props.color})));var e}}]),t}(o.a.Component),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).updateIsoline=function(){console.log("updating isoline.."),fetch(f(a.state)).then(function(e){return e.json()}).then(function(e){if(e.response.isoline[0].component.length>0){console.log("serach..");var t=e.response.isoline[0].component[0].shape.map(function(e){return[e.split(",")[0],e.split(",")[1]]});console.log(t),a.setState({shape:t})}else{a.setState({shape:[]})}})},a.handleMapMove=function(e){return a.setState({zoom:e})},a.componentDidMount=function(){return a.updateIsoline()},a.handleMarkerDrag=function(e){return a.setState({center:e},function(){return a.updateIsoline()})},a.updateOptions=function(e,t){"type"===t&&a.state.range>E[e]&&a.setState({range:E[e]}),a.setState(Object(c.a)({},t,e),function(){return a.updateIsoline()})},a.updateRange=function(e){var t=e.target.value;a.setState({range:t},function(){return a.updateIsoline()})},a.marker=o.a.createRef(),a.map=o.a.createRef(),a.state={color:"#5DDCCF",shape:[],center:[47.605779,-122.315744],mode:"car",range:1e4,type:"distance",traffic:!1,zoom:12,searchValue:"Seattle"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="distance"===this.state.type?E.distance:E.time,t=this.state.range>e?e:this.state.range;return o.a.createElement("div",{className:"app"},o.a.createElement("lui-desktoplayer-theme",null,o.a.createElement(g,{updateOptions:this.updateOptions,updateRange:this.updateRange,max:e,sliderVal:t,options:this.state}),o.a.createElement(M,{color:this.state.color,isoline:this.state.shape,center:this.state.center,zoom:this.state.zoom,handleMapMove:this.handleMapMove,handleMarkerDrag:this.handleMarkerDrag})))}}]),t}(o.a.Component);i.a.render(o.a.createElement(O,null),document.getElementById("root"))}},[[32,2,1]]]);
//# sourceMappingURL=main.ea96e4c2.chunk.js.map