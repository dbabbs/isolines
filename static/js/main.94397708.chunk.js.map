{"version":3,"sources":["here.js","Sidebar.js","MapContainer.js","App.js","index.js"],"names":["hereCredentials","hereIsolineUrl","options","concat","mode","traffic","center","range","type","maxIsolineRangeLookup","time","distance","Sidebar","props","react_default","a","createElement","className","onClick","updateOptions","class","name","value","checked","Math","round","onChange","updateRange","min","max","sliderVal","href","MapContainer","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleMapMove","zoom","map","current","viewport","handleMarkerDrag","coordinates","marker","leafletElement","getLatLng","lat","lng","React","createRef","Map","zoomControl","attributionControl","onMoveend","ref","TileLayer","url","style","Marker","position","draggable","onDragEnd","Polygon","fillOpacity","weight","positions","isoline","color","Component","App","updateIsoline","fetch","state","then","res","json","response","component","length","shape","x","split","setState","componentDidMount","cat","defineProperty","evt","target","src_Sidebar","src_MapContainer","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.94397708.chunk.js","sourcesContent":["const hereCredentials = {\n   id: 'UQ75LhFcnAv0DtOUwBEA',\n   code: 'f5nyezNmYF4wvuJqQgNSkg'\n}\n\nconst hereIsolineUrl = (options) =>\n`https://isoline.route.api.here.com/routing/7.2/calculateisoline.json\n?app_id=${hereCredentials.id}\n&app_code=${hereCredentials.code}\n&mode=shortest;${options.mode};\ntraffic:${options.traffic ? 'enabled' : 'disabled'}\n&start=geo!${options.center[0]},${options.center[1]}\n&range=${options.range}\n&rangetype=${options.type}`\n\nconst hereTileUrl = (style) => `https://2.base.maps.api.here.com/maptile/2.1/maptile/newest/${style}/{z}/{x}/{y}/512/png8?app_id=${hereCredentials.id}&app_code=${hereCredentials.code}&ppi=320`;\n\nconst maxIsolineRangeLookup = {\n   time: 32400,\n   distance: 800000\n}\n\nexport {\n   hereCredentials,\n   hereIsolineUrl,\n   hereTileUrl,\n   maxIsolineRangeLookup\n}\n","import React from 'react';\nimport './App.css'\n\nimport '@lui/init/dist/lui-init.min'\nimport '@lui/here-layer-theme/dist/lui-here-layer-theme.min'\nimport '@lui/radiobutton/dist/lui-radiobutton.min'\nimport '@lui/checkbox/dist/lui-checkbox.min'\n\nconst Sidebar = (props) => {\n\n   return (\n      <div className=\"sidebar\">\n         <div className=\"header\">\n            <h1>HERE Isoline Explorer</h1>\n            <div className=\"subtitle\">HERE Routing Isolines in action.</div>\n         </div>\n         <div className=\"content\">\n            <div className=\"section\">\n               <div className=\"section-title\">\n                  Transportation mode\n               </div>\n               <lui-radiobutton-group>\n                  <lui-radiobutton\n                     onClick={() => props.updateOptions('pedestrian', 'mode')}\n                     class=\"lui-small\"\n                  >\n                     <input\n                        type=\"radio\"\n                        name=\"mode\"\n                        value=\"pedestrian\"\n                        checked={props.options.mode === 'pedestrian'}\n                     />\n                     Pedestrian\n                  </lui-radiobutton>\n                  <lui-radiobutton\n                     onClick={() => props.updateOptions('car', 'mode')}\n                     class=\"lui-small\"\n                  >\n                     <input\n                        type=\"radio\"\n                        checked={props.options.mode === 'car'}\n\n                     />\n                     Car\n                  </lui-radiobutton>\n               </lui-radiobutton-group>\n            </div>\n            <div className=\"section\">\n               <div className=\"section-title\">\n                  Traffic enabled\n               </div>\n               <lui-checkbox\n                  class=\"lui-small\"\n                  onClick={() => props.updateOptions(!props.options.traffic, 'traffic')}\n               >\n                  <input\n                     type=\"checkbox\"\n                     checked={props.options.traffic}\n                  />\n                  Traffic\n               </lui-checkbox>\n            </div>\n\n            <div className=\"section\">\n               <div className=\"section-title\">\n                  Time or distance\n               </div>\n               <lui-radiobutton-group>\n                  <lui-radiobutton\n                     onClick={() => props.updateOptions('distance', 'type')}\n                     class=\"lui-small\"\n                  >\n                     <input\n                        type=\"radio\"\n                        checked={props.options.type === 'distance'}\n                     />\n\n                     Distance\n                  </lui-radiobutton>\n                  <lui-radiobutton\n                     onClick={() => props.updateOptions('time', 'type')}\n                     class=\"lui-small\"\n                  >\n                     <input\n                        type=\"radio\"\n                        checked={props.options.type === 'time'}\n                     />\n                     Time\n                  </lui-radiobutton>\n               </lui-radiobutton-group>\n            </div>\n            <div className=\"section\">\n               <div className=\"section-title\">\n                  Range\n               </div>\n               <p>\n                  {\n                     props.options.type === 'distance' ?\n                     Math.round(props.options.range * 0.000621371) + ' miles' :\n                     Math.round(props.options.range / 60) + ' minutes'\n                  }\n               </p>\n               <input\n                  onChange={props.updateRange}\n                  type=\"range\"\n                  min={1}\n                  max={props.max}\n                  value={props.sliderVal}\n                  className=\"slider\"\n               />\n            </div>\n            <div className=\"section subtitle\">\n               <div>HERE Routing Isoline {' '}\n                  <a href=\"https://developer.here.com/documentation/routing/topics/request-isoline.html\">\n                     documentation\n                  </a>\n               </div>\n               <br />\n               <div>\n                  Made by <a href=\"https://twitter.com/dbabbs\">@dbabbs</a>\n               </div>\n\n            </div>\n\n         </div>\n      </div>\n   )\n}\n\nexport default Sidebar;\n","import React from 'react';\nimport { Map, TileLayer, Marker, Polygon } from 'react-leaflet';\nimport { hereTileUrl } from './here';\n\nclass MapContainer extends React.Component {\n   constructor(props) {\n      super(props);\n      this.marker = React.createRef();\n      this.map = React.createRef();\n   }\n\n   handleMapMove = () => {\n      const zoom = this.map.current.viewport.zoom;\n      this.props.handleMapMove(zoom);\n   }\n\n\n   handleMarkerDrag = () => {\n      const coordinates = this.marker.current.leafletElement.getLatLng();\n      const center = [coordinates.lat, coordinates.lng];\n      this.props.handleMarkerDrag(center);\n   }\n\n   render() {\n      return (\n         <div className=\"map\">\n            <Map\n               center={this.props.center}\n               zoom={this.props.zoom}\n               zoomControl={false}\n               attributionControl={false}\n               onMoveend={this.handleMapMove}\n               ref={this.map}\n            >\n               <TileLayer\n                  url={hereTileUrl('reduced.night')}\n               />\n               <Marker\n                  position={this.props.center}\n                  draggable={true}\n                  onDragEnd={this.handleMarkerDrag}\n                  ref={this.marker}\n               />\n               <Polygon\n                  fillOpacity={0.1}\n                  weight={2}\n                  positions={this.props.isoline}\n                  color={this.props.color}\n               />\n            </Map>\n         </div>\n      )\n   }\n\n}\nexport default MapContainer;\n","import React from 'react';\nimport './App.css';\nimport { hereIsolineUrl, maxIsolineRangeLookup } from './here';\n\nimport Sidebar from './Sidebar';\nimport MapContainer from './MapContainer';\n\nimport '@lui/init/dist/lui-init.min'\nimport '@lui/here-layer-theme/dist/lui-here-layer-theme.min'\n\nclass App extends React.Component {\n\n   constructor(props) {\n      super(props);\n\n      this.marker = React.createRef();\n      this.map = React.createRef();\n\n      this.state = {\n         color: '#5DDCCF',\n         shape: [],\n         center: [47.605779, -122.315744],\n         mode: 'car',\n         range: 1000,\n         type: 'time',\n         traffic: false,\n         zoom: 12\n      };\n   }\n\n   updateIsoline = () => {\n      fetch(hereIsolineUrl(this.state))\n      .then(res => res.json())\n      .then(res => {\n         if (res.response.isoline[0].component.length > 0) {\n            const shape = res.response.isoline[0].component[0].shape.map(x => [x.split(',')[0], x.split(',')[1]]);\n            this.setState({ shape })\n         } else {\n            const shape = [];\n            this.setState({ shape })\n         }\n      })\n   }\n\n   handleMapMove = (zoom) => this.setState({ zoom });\n\n   componentDidMount = () => this.updateIsoline();\n\n   handleMarkerDrag = (center) => this.setState({ center }, () => this.updateIsoline());\n\n   updateOptions = (value, cat) => {\n      if (cat === 'type' && this.state.range > maxIsolineRangeLookup[value]) {\n         this.setState({\n            range: maxIsolineRangeLookup[value]\n         });\n      }\n      this.setState({\n         [cat]: value\n      }, () => this.updateIsoline());\n   }\n\n   updateRange = evt => {\n      let range = evt.target.value;\n      this.setState({ range }, () => this.updateIsoline());\n   }\n\n   render() {\n      const max = this.state.type === 'distance' ?\n         maxIsolineRangeLookup.distance :\n         maxIsolineRangeLookup.time;\n      const sliderVal = this.state.range > max ? max : this.state.range;\n\n      return (\n         <div className=\"app\">\n            <lui-desktoplayer-theme>\n               <Sidebar\n                  updateOptions={this.updateOptions}\n                  updateRange={this.updateRange}\n                  max={max}\n                  sliderVal={sliderVal}\n                  options={this.state}\n               />\n               <MapContainer\n                  color={this.state.color}\n                  isoline={this.state.shape}\n                  center={this.state.center}\n                  zoom={this.state.zoom}\n                  handleMapMove={this.handleMapMove}\n                  handleMarkerDrag={this.handleMarkerDrag}\n               />\n            </lui-desktoplayer-theme>\n         </div>\n      );\n   }\n}\n/*\n\n*/\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}